{"version":3,"sources":["../../../../src/shared/lib/router/action-queue.ts"],"names":["ActionQueueContext","createMutableActionQueue","React","createContext","runRemainingActions","actionQueue","setState","pending","next","runAction","action","prevState","state","Error","last","payload","actionResult","handleResult","nextState","discarded","needsRefresh","dispatch","type","ACTION_REFRESH","cache","createEmptyCacheNode","mutable","origin","window","location","devToolsInstance","send","resolve","isThenable","then","err","reject","dispatchAction","resolvers","deferredPromise","Promise","newAction","startTransition","ACTION_NAVIGATE","ACTION_SERVER_ACTION","result","reducer"],"mappings":"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"}