{"version":3,"sources":["../../../src/server/web/adapter.ts"],"names":["adapter","NextRequestHint","NextRequest","constructor","params","input","init","sourcePage","page","request","PageSignatureError","respondWith","waitUntil","ensureInstrumentationRegistered","isEdgeRendering","self","__BUILD_MANIFEST","prerenderManifest","__PRERENDER_MANIFEST","JSON","parse","undefined","url","normalizeRscURL","requestUrl","NextURL","headers","nextConfig","keys","searchParams","key","value","getAll","NEXT_QUERY_PARAM_PREFIX","startsWith","normalizedKey","substring","length","delete","val","append","buildId","isDataReq","pathname","requestHeaders","fromNodeOutgoingHttpHeaders","flightHeaders","Map","param","FLIGHT_PARAMETERS","toString","toLowerCase","get","set","normalizeUrl","process","env","__NEXT_NO_MIDDLEWARE_URL_NORMALIZE","URL","stripInternalSearchParams","body","geo","ip","method","signal","Object","defineProperty","enumerable","globalThis","__incrementalCache","IncrementalCache","appDir","fetchCache","minimalMode","NODE_ENV","fetchCacheKeyPrefix","__NEXT_FETCH_CACHE_KEY_PREFIX","dev","requestProtocol","getPrerenderManifest","version","routes","dynamicRoutes","notFoundRoutes","preview","previewModeId","event","NextFetchEvent","response","cookiesFromResponse","isMiddleware","RequestAsyncStorageWrapper","wrap","requestAsyncStorage","req","renderOpts","onUpdateCookies","cookies","previewProps","previewModeEncryptionKey","previewModeSigningKey","handler","Response","TypeError","rewrite","rewriteUrl","forceLocale","host","nextUrl","String","relativizedRewrite","relativizeURL","__NEXT_EXTERNAL_MIDDLEWARE_REWRITE_RESOLVE","match","redirect","redirectURL","finalResponse","NextResponse","next","middlewareOverrideHeaders","overwrittenHeaders","push","join","Promise","all","waitUntilSymbol","fetchMetrics"],"mappings":";;;;+BAoDsBA;;;eAAAA;;;uBAjDa;uBACS;4BACb;yBACH;0BACC;+BACC;yBAEN;+BACkB;0BACV;kCACE;2BACM;yBACQ;4CACL;6CACP;AAEpC,MAAMC,wBAAwBC,oBAAW;IAIvCC,YAAYC,MAIX,CAAE;QACD,KAAK,CAACA,OAAOC,KAAK,EAAED,OAAOE,IAAI;QAC/B,IAAI,CAACC,UAAU,GAAGH,OAAOI,IAAI;IAC/B;IAEA,IAAIC,UAAU;QACZ,MAAM,IAAIC,yBAAkB,CAAC;YAAEF,MAAM,IAAI,CAACD,UAAU;QAAC;IACvD;IAEAI,cAAc;QACZ,MAAM,IAAID,yBAAkB,CAAC;YAAEF,MAAM,IAAI,CAACD,UAAU;QAAC;IACvD;IAEAK,YAAY;QACV,MAAM,IAAIF,yBAAkB,CAAC;YAAEF,MAAM,IAAI,CAACD,UAAU;QAAC;IACvD;AACF;AASO,eAAeP,QACpBI,MAAsB;IAEtB,MAAMS,IAAAA,wCAA+B;IAErC,yCAAyC;IACzC,MAAMC,kBAAkB,OAAOC,KAAKC,gBAAgB,KAAK;IACzD,MAAMC,oBACJ,OAAOF,KAAKG,oBAAoB,KAAK,WACjCC,KAAKC,KAAK,CAACL,KAAKG,oBAAoB,IACpCG;IAENjB,OAAOK,OAAO,CAACa,GAAG,GAAGC,IAAAA,yBAAe,EAACnB,OAAOK,OAAO,CAACa,GAAG;IAEvD,MAAME,aAAa,IAAIC,gBAAO,CAACrB,OAAOK,OAAO,CAACa,GAAG,EAAE;QACjDI,SAAStB,OAAOK,OAAO,CAACiB,OAAO;QAC/BC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;IACvC;IAEA,yIAAyI;IACzI,4CAA4C;IAC5C,MAAMC,OAAO;WAAIJ,WAAWK,YAAY,CAACD,IAAI;KAAG;IAChD,KAAK,MAAME,OAAOF,KAAM;QACtB,MAAMG,QAAQP,WAAWK,YAAY,CAACG,MAAM,CAACF;QAE7C,IACEA,QAAQG,kCAAuB,IAC/BH,IAAII,UAAU,CAACD,kCAAuB,GACtC;YACA,MAAME,gBAAgBL,IAAIM,SAAS,CAACH,kCAAuB,CAACI,MAAM;YAClEb,WAAWK,YAAY,CAACS,MAAM,CAACH;YAE/B,KAAK,MAAMI,OAAOR,MAAO;gBACvBP,WAAWK,YAAY,CAACW,MAAM,CAACL,eAAeI;YAChD;YACAf,WAAWK,YAAY,CAACS,MAAM,CAACR;QACjC;IACF;IAEA,4DAA4D;IAC5D,MAAMW,UAAUjB,WAAWiB,OAAO;IAClCjB,WAAWiB,OAAO,GAAG;IAErB,MAAMC,YAAYtC,OAAOK,OAAO,CAACiB,OAAO,CAAC,gBAAgB;IAEzD,IAAIgB,aAAalB,WAAWmB,QAAQ,KAAK,UAAU;QACjDnB,WAAWmB,QAAQ,GAAG;IACxB;IAEA,MAAMC,iBAAiBC,IAAAA,kCAA2B,EAACzC,OAAOK,OAAO,CAACiB,OAAO;IACzE,MAAMoB,gBAAgB,IAAIC;IAC1B,oDAAoD;IACpD,IAAI,CAACjC,iBAAiB;QACpB,KAAK,MAAMkC,SAASC,mCAAiB,CAAE;YACrC,MAAMnB,MAAMkB,MAAME,QAAQ,GAAGC,WAAW;YACxC,MAAMpB,QAAQa,eAAeQ,GAAG,CAACtB;YACjC,IAAIC,OAAO;gBACTe,cAAcO,GAAG,CAACvB,KAAKc,eAAeQ,GAAG,CAACtB;gBAC1Cc,eAAeN,MAAM,CAACR;YACxB;QACF;IACF;IAEA,MAAMwB,eAAeC,QAAQC,GAAG,CAACC,kCAAkC,GAC/D,IAAIC,IAAItD,OAAOK,OAAO,CAACa,GAAG,IAC1BE;IAEJ,MAAMf,UAAU,IAAIR,gBAAgB;QAClCO,MAAMJ,OAAOI,IAAI;QACjB,mDAAmD;QACnDH,OAAOsD,IAAAA,wCAAyB,EAACL,cAAc,MAAMJ,QAAQ;QAC7D5C,MAAM;YACJsD,MAAMxD,OAAOK,OAAO,CAACmD,IAAI;YACzBC,KAAKzD,OAAOK,OAAO,CAACoD,GAAG;YACvBnC,SAASkB;YACTkB,IAAI1D,OAAOK,OAAO,CAACqD,EAAE;YACrBC,QAAQ3D,OAAOK,OAAO,CAACsD,MAAM;YAC7BpC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;YACrCqC,QAAQ5D,OAAOK,OAAO,CAACuD,MAAM;QAC/B;IACF;IAEA;;;;GAIC,GACD,IAAItB,WAAW;QACbuB,OAAOC,cAAc,CAACzD,SAAS,YAAY;YACzC0D,YAAY;YACZpC,OAAO;QACT;IACF;IAEA,IACE,CAAC,AAACqC,WAAmBC,kBAAkB,IACvC,AAACjE,OAAekE,gBAAgB,EAChC;QACEF,WAAmBC,kBAAkB,GAAG,IAAI,AAC5CjE,OACAkE,gBAAgB,CAAC;YACjBC,QAAQ;YACRC,YAAY;YACZC,aAAalB,QAAQC,GAAG,CAACkB,QAAQ,KAAK;YACtCC,qBAAqBpB,QAAQC,GAAG,CAACoB,6BAA6B;YAC9DC,KAAKtB,QAAQC,GAAG,CAACkB,QAAQ,KAAK;YAC9B9B,gBAAgBxC,OAAOK,OAAO,CAACiB,OAAO;YACtCoD,iBAAiB;YACjBC,sBAAsB;gBACpB,OAAO;oBACLC,SAAS,CAAC;oBACVC,QAAQ,CAAC;oBACTC,eAAe,CAAC;oBAChBC,gBAAgB,EAAE;oBAClBC,SAAS;wBACPC,eAAe;oBACjB;gBACF;YACF;QACF;IACF;IAEA,MAAMC,QAAQ,IAAIC,0BAAc,CAAC;QAAE9E;QAASD,MAAMJ,OAAOI,IAAI;IAAC;IAC9D,IAAIgF;IACJ,IAAIC;IAEJ,8DAA8D;IAC9D,MAAMC,eACJtF,OAAOI,IAAI,KAAK,iBAAiBJ,OAAOI,IAAI,KAAK;IACnD,IAAIkF,cAAc;QAChBF,WAAW,MAAMG,sDAA0B,CAACC,IAAI,CAC9CC,gDAAmB,EACnB;YACEC,KAAKrF;YACLsF,YAAY;gBACVC,iBAAiB,CAACC;oBAChBR,sBAAsBQ;gBACxB;gBACA,2EAA2E;gBAC3EC,cAAcjF,CAAAA,qCAAAA,kBAAmBmE,OAAO,KAAI;oBAC1CC,eAAe;oBACfc,0BAA0B;oBAC1BC,uBAAuB;gBACzB;YACF;QACF,GACA,IAAMhG,OAAOiG,OAAO,CAAC5F,SAAS6E;IAElC,OAAO;QACLE,WAAW,MAAMpF,OAAOiG,OAAO,CAAC5F,SAAS6E;IAC3C;IAEA,yCAAyC;IACzC,IAAIE,YAAY,CAAEA,CAAAA,oBAAoBc,QAAO,GAAI;QAC/C,MAAM,IAAIC,UAAU;IACtB;IAEA,IAAIf,YAAYC,qBAAqB;QACnCD,SAAS9D,OAAO,CAAC2B,GAAG,CAAC,cAAcoC;IACrC;IAEA;;;;;GAKC,GACD,MAAMe,UAAUhB,4BAAAA,SAAU9D,OAAO,CAAC0B,GAAG,CAAC;IACtC,IAAIoC,YAAYgB,SAAS;QACvB,MAAMC,aAAa,IAAIhF,gBAAO,CAAC+E,SAAS;YACtCE,aAAa;YACbhF,SAAStB,OAAOK,OAAO,CAACiB,OAAO;YAC/BC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;QACvC;QAEA,IAAI,CAAC4B,QAAQC,GAAG,CAACC,kCAAkC,EAAE;YACnD,IAAIgD,WAAWE,IAAI,KAAKlG,QAAQmG,OAAO,CAACD,IAAI,EAAE;gBAC5CF,WAAWhE,OAAO,GAAGA,WAAWgE,WAAWhE,OAAO;gBAClD+C,SAAS9D,OAAO,CAAC2B,GAAG,CAAC,wBAAwBwD,OAAOJ;YACtD;QACF;QAEA;;;;KAIC,GACD,MAAMK,qBAAqBC,IAAAA,4BAAa,EACtCF,OAAOJ,aACPI,OAAOrF;QAGT,IACEkB,aACA,kDAAkD;QAClD,oDAAoD;QACpD,yCAAyC;QACzC,CACEa,CAAAA,QAAQC,GAAG,CAACwD,0CAA0C,IACtDF,mBAAmBG,KAAK,CAAC,gBAAe,GAE1C;YACAzB,SAAS9D,OAAO,CAAC2B,GAAG,CAAC,oBAAoByD;QAC3C;IACF;IAEA;;;;GAIC,GACD,MAAMI,WAAW1B,4BAAAA,SAAU9D,OAAO,CAAC0B,GAAG,CAAC;IACvC,IAAIoC,YAAY0B,YAAY,CAACpG,iBAAiB;QAC5C,MAAMqG,cAAc,IAAI1F,gBAAO,CAACyF,UAAU;YACxCR,aAAa;YACbhF,SAAStB,OAAOK,OAAO,CAACiB,OAAO;YAC/BC,YAAYvB,OAAOK,OAAO,CAACkB,UAAU;QACvC;QAEA;;;KAGC,GACD6D,WAAW,IAAIc,SAASd,SAAS5B,IAAI,EAAE4B;QAEvC,IAAI,CAACjC,QAAQC,GAAG,CAACC,kCAAkC,EAAE;YACnD,IAAI0D,YAAYR,IAAI,KAAKlG,QAAQmG,OAAO,CAACD,IAAI,EAAE;gBAC7CQ,YAAY1E,OAAO,GAAGA,WAAW0E,YAAY1E,OAAO;gBACpD+C,SAAS9D,OAAO,CAAC2B,GAAG,CAAC,YAAYwD,OAAOM;YAC1C;QACF;QAEA;;;;KAIC,GACD,IAAIzE,WAAW;YACb8C,SAAS9D,OAAO,CAACY,MAAM,CAAC;YACxBkD,SAAS9D,OAAO,CAAC2B,GAAG,CAClB,qBACA0D,IAAAA,4BAAa,EAACF,OAAOM,cAAcN,OAAOrF;QAE9C;IACF;IAEA,MAAM4F,gBAAgB5B,WAAWA,WAAW6B,sBAAY,CAACC,IAAI;IAE7D,iFAAiF;IACjF,MAAMC,4BAA4BH,cAAc1F,OAAO,CAAC0B,GAAG,CACzD;IAEF,MAAMoE,qBAA+B,EAAE;IACvC,IAAID,2BAA2B;QAC7B,KAAK,MAAM,CAACzF,KAAKC,MAAM,IAAIe,cAAe;YACxCsE,cAAc1F,OAAO,CAAC2B,GAAG,CAAC,CAAC,qBAAqB,EAAEvB,IAAI,CAAC,EAAEC;YACzDyF,mBAAmBC,IAAI,CAAC3F;QAC1B;QAEA,IAAI0F,mBAAmBnF,MAAM,GAAG,GAAG;YACjC+E,cAAc1F,OAAO,CAAC2B,GAAG,CACvB,iCACAkE,4BAA4B,MAAMC,mBAAmBE,IAAI,CAAC;QAE9D;IACF;IAEA,OAAO;QACLlC,UAAU4B;QACVxG,WAAW+G,QAAQC,GAAG,CAACtC,KAAK,CAACuC,2BAAe,CAAC;QAC7CC,cAAcrH,QAAQqH,YAAY;IACpC;AACF"}