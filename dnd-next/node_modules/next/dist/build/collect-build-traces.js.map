{"version":3,"sources":["../../src/build/collect-build-traces.ts"],"names":["collectBuildTraces","debug","debugOriginal","shouldIgnore","file","serverIgnoreFn","reasons","cachedIgnoreFiles","has","get","set","reason","parents","size","type","includes","values","every","parent","dir","config","distDir","pageKeys","pageInfos","staticPages","nextBuildSpan","Span","name","hasSsrAmpPages","buildTraceContext","outputFileTracingRoot","startTime","Date","now","turboTasksForTrace","bindings","loadBindings","runTurbotrace","experimental","turbotrace","isWasm","turbo","startTrace","turbotraceOutputPath","turbotraceFiles","createTurboTasks","memoryLimit","TURBO_TRACE_DEFAULT_MEMORY_LIMIT","entriesTrace","chunksTrace","appDir","buildTraceContextAppDir","depModArray","entryNameMap","outputPath","action","depModSet","Set","filesTracedInEntries","contextDirectory","input","entriesToTrace","filesTracedFromEntries","map","f","path","join","filter","startsWith","length","entryName","Array","from","Object","entries","k","traceOutputPath","traceOutputDir","dirname","relative","outputPagesPath","substring","existedNftFile","fs","readFile","then","existedContent","JSON","parse","catch","version","TRACE_OUTPUT_VERSION","files","push","filesSet","writeFile","stringify","outputFileTracingIncludes","outputFileTracingExcludes","excludeGlobKeys","keys","traceChild","isTurbotrace","Boolean","traceAsyncFn","nextServerTraceOutput","nextMinimalTraceOutput","root","isStandalone","output","nextServerEntry","require","resolve","sharedEntriesSet","defaultOverrides","value","paths","incrementalCacheHandlerPath","isAbsolute","serverEntries","minimalServerEntries","additionalIgnores","glob","isMatch","forEach","exclude","add","sharedIgnores","ciEnvironment","hasNextSupport","TRACE_IGNORES","outputFileTracingIgnores","serverIgnores","nonNullable","minimalServerIgnores","routesIgnores","makeIgnoreFn","ignores","pathname","contains","dot","traceContext","serverTracedFiles","minimalServerTracedFiles","addToTracedFiles","base","dest","replace","makeTrace","logLevel","processCwd","logDetail","showAll","logAll","vanillaFiles","minimalFiles","chunksToTrace","result","nodeFileTrace","mixedModules","p","e","isError","code","readlink","stat","fileList","esmFileList","parentFilesMap","getFilesMapFromReasons","cachedLookupIgnore","Map","cachedLookupIgnoreMinimal","tracedFiles","curFiles","curFile","filePath","entryNameFilesMap","cachedLookupIgnoreRoutes","Promise","all","entryNameFiles","isApp","isPages","route","normalizeAppPath","normalizePagePath","entryOutputPath","existingTrace","curTracedFiles","outputFile","sort","moduleTypes","modulePath","relativeModulePath","contextDir","item","readdir","itemPath","includeExcludeSpan","resolvedTraceIncludes","includeGlobKeys","globOrig","pattern","reject","cwd","nodir","err","page","pages","pageInfo","find","runtime","combinedIncludes","combinedExcludes","curGlob","include","traceFile","pageDir","traceContent","includeGlob","results","resolvedInclude","combined","resolvedGlobs","delete"],"mappings":"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"}